<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title th:text="${pageTitle}">Manajemen Sidang</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans h-screen">
    <div class="flex h-full">
    <!-- Sidebar -->
    <aside th:replace="~{kta/fragments/sidebar :: sidebar}"></aside>
            <!-- Main Content -->
            <main class="flex-1 p-6">
                <div class="max-w-4xl mx-auto">
                   <div class="flex justify-between items-center mb-6">
                       <h1 class="text-3xl font-bold" th:text="${pageTitle}">Manajemen Sidang</h1>
                        <a th:href="@{/kta/sidang}" class="text-purple-600 hover:text-purple-800">‚Üê Kembali</a>
                   </div>
               <form th:action="@{/kta/sidang/save}" method="post" class="bg-white rounded-xl shadow-lg p-8" th:object="${sidang}">
                 <input type="hidden" th:field="*{sidangId}" />
              <!-- Tugas Akhir -->
              <div class="mb-4">
                 <label for="tugasAkhirId" class="block text-gray-700 font-medium mb-2">Tugas Akhir</label>
                     <select id="tugasAkhirId" th:field="*{tugasAkhir.taId}"
                              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-1 focus:ring-purple-500"
                              required>
                         <option value="">Pilih Tugas Akhir</option>
                         <option th:each="ta : ${tugasAkhirList}" th:value="${ta.taId}" th:text="${ta.mahasiswa.nama} + ' - ' + ${ta.judul}"
                                th:selected="${sidang.tugasAkhir != null && sidang.tugasAkhir.taId == ta.taId}">
                            </option>
                         </select>
                </div>
                 <div class="mb-4">
                    <label for="jadwalTanggal" class="block text-gray-700 font-medium mb-2">Tanggal Sidang</label>
                       <input type="date" id="jadwalTanggal" th:field="*{jadwalTanggal}" required
                             class="border border-gray-300 rounded-md w-full px-4 py-2 focus:border-purple-500 focus:ring-1 focus:ring-purple-500">
               </div>
                <div class="mb-4">
                     <label for="jadwalWaktu" class="block text-gray-700 font-medium mb-2">Waktu Sidang</label>
                     <input type="time" id="jadwalWaktu" th:field="*{jadwalWaktu}" required
                                class="border border-gray-300 rounded-md w-full px-4 py-2 focus:border-purple-500 focus:ring-1 focus:ring-purple-500">
                </div>
                  <div class="mb-4">
                       <label for="ruangan" class="block text-gray-700 font-medium mb-2">Ruangan</label>
                      <input type="text" id="ruangan" th:field="*{ruangan}" required
                                class="border border-gray-300 rounded-md w-full px-4 py-2 focus:border-purple-500 focus:ring-1 focus:ring-purple-500">
                </div>
       
                 <div class="mb-4">
                    <label for="penguji1" class="block text-gray-700 font-medium mb-2">Penguji 1</label>
                    <select id="penguji1" th:field="*{penguji1}"
                                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-1 focus:ring-purple-500">
                         <option value="">Pilih Dosen Penguji 1</option>
                        <option th:each="dosen : ${dosenList}" th:value="${dosen.dosenId}" th:text="${dosen.nama}"
                             th:selected="${sidang.penguji1 != null && sidang.penguji1 == dosen.dosenId}">
                        </option>
                     </select>
               </div>
       
              <div class="mb-4">
                <label for="penguji2" class="block text-gray-700 font-medium mb-2">Penguji 2</label>
                    <select id="penguji2" th:field="*{penguji2}"
                              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-1 focus:ring-purple-500">
                         <option value="">Pilih Dosen Penguji 2</option>
                         <option th:each="dosen : ${dosenList}" th:value="${dosen.dosenId}" th:text="${dosen.nama}"
                            th:selected="${sidang.penguji2 != null && sidang.penguji2 == dosen.dosenId}">
                        </option>
                     </select>
                </div>
                    <div class="mb-6">
                         <label for="statusSidang" class="block text-gray-700 font-medium mb-2">Status Sidang</label>
                          <select id="statusSidang" th:field="*{statusSidang}"
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-1 focus:ring-purple-500">
                               <option value="">Pilih Status</option>
                                 <option th:each="status : ${T(com.rpl.project_sista.model.enums.StatusSidang).values()}"
                                        th:value="${status}" th:text="${#strings.capitalize(#strings.toLowerCase(status))}">
                                 </option>
                           </select>
                    </div>
                    <div class="flex justify-end gap-4">
                      <a th:href="@{/kta/sidang}" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50">Batal</a>
                         <button type="submit" class="bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2">
                              Simpan
                          </button>
                      </div>
                </form>
               </div>
             </main>
          </div>
        </body>
        </html>